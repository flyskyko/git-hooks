#!/bin/bash

file="$HOME/.gitauthor"
export NEW_NAME=$(head -1 $file)
export NEW_EMAIL=$(head -2 $file | tail -1)

git config user.name "$NEW_NAME"
git config user.email "$NEW_EMAIL"

git filter-branch -f --env-filter '
	export GIT_AUTHOR_NAME="$NEW_NAME"
	export GIT_AUTHOR_EMAIL="$NEW_EMAIL"
	export GIT_COMMITTER_NAME="$NEW_NAME"
	export GIT_COMMITTER_EMAIL="$NEW_EMAIL"
' "HEAD~1..HEAD"
